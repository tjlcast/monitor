##  运行
修改文件权限
``` shell
chmod 755 ./*
```

通过在crontab中设置周期运行
``` shell
crontab -e
```

例如，填入如下信息，表示每分钟执行检查一次
``` shell
*/1 * * * * im_key='XXXX' /home/xxx/monitor/monitor_crontab.sh
```
说明：设置im_key，开启im异常通知；否则检查异常信息将仅输出日志不进行im通知；

## 规则

获取要检查的`curl`并保存到同级目录下为检查规则，规则文件的命名格式为：`[服务].[返回体中要检查的字段]`.
注意：
    1. `返回体中要检查的字段`只能是返回json中的第一层key;
    2. 如果请求返回的是sse流式响应，请直接使用：`[服务].stream`，流式检查规则`grep 'data: '`;


## 文件
+ `*.sh`为工程文件；
+ `log.log`记录每次检查执行的结构；
+ `error.log`记录异常的返回；
+ 其他文件均为规则文件；


## tips
+ 如果想启停检查规则，通过重命名规则文件名字(在文件名后加上后缀`.log`; 重新启动规则仅需重名去掉`.log`后缀)
